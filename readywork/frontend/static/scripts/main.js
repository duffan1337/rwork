var Language=function(e,t,i,n){this.language=e,this.months=t,this.monthsAbbr=i,this.days=n,this.rtl=!1,this.ymd=!1,this.yearSuffix=""},prototypeAccessors={language:{configurable:!0},months:{configurable:!0},monthsAbbr:{configurable:!0},days:{configurable:!0}};prototypeAccessors.language.get=function(){return this._language},prototypeAccessors.language.set=function(e){if("string"!=typeof e)throw new TypeError("Language must be a string");this._language=e},prototypeAccessors.months.get=function(){return this._months},prototypeAccessors.months.set=function(e){if(12!==e.length)throw new RangeError("There must be 12 months for "+this.language+" language");this._months=e},prototypeAccessors.monthsAbbr.get=function(){return this._monthsAbbr},prototypeAccessors.monthsAbbr.set=function(e){if(12!==e.length)throw new RangeError("There must be 12 abbreviated months for "+this.language+" language");this._monthsAbbr=e},prototypeAccessors.days.get=function(){return this._days},prototypeAccessors.days.set=function(e){if(7!==e.length)throw new RangeError("There must be 7 days for "+this.language+" language");this._days=e},Object.defineProperties(Language.prototype,prototypeAccessors);var ru=new Language("Russian",["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],["Янв","Февр","Март","Апр","Май","Июнь","Июль","Авг","Сент","Окт","Нояб","Дек"],["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]);const Vuex=require("vuex"),Vuedals=require("vuedals"),VueMultiselect=require("vue-multiselect"),VueTelInput=require("vue-tel-input"),VueDatepicker=require("vuejs-datepicker"),Bus=Vuedals.Bus,{validationMixin,default:Vuelidate}=require("vuelidate"),{required,minValue,minLength,maxLength,email,helpers}=require("vuelidate/lib/validators"),TOMORROW_DATE=(new Date).setDate((new Date).getDate()),MAX_FILES_COUNT=3,MAX_FILES_SIZE=200,maxFileSize=e=>t=>{let i=0;for(let e=0;e<t.length;e++)i+=t[e].size/1e6;return!helpers.req(t)||i<e},validPhone=e=>t=>!helpers.req(t)||e,validDate=e=>!helpers.req(e)||!!Date.parse(e);Vue.use(Vuex),Vue.use(Vuedals.default),Vue.use(VueMultiselect.default),Vue.use(VueTelInput.default),Vue.use(VueDatepicker),Vue.use(VTooltip),Vue.mixin({methods:{openSumbitModal(e){Bus.$emit("new",{name:"app-modal-form",props:e,component:"app-modal-form"}),this.closeModal()},closeModal(){setTimeout((function(){Bus.$emit("close")}),4e3)}}});let serverFieldErrorsMixin={methods:{setErrors(e){let t=Object.keys(e.error).length;if(t>0)for(let i=0;i<t;i++)for(let t in e.error)e.error.hasOwnProperty(t)&&Vue.set(this.submit.errors,t,e.error[t])}}},loginMixin={data:function(){return{client:{password:"",email:""},submit:{errors:{}},pending:!1}},validations:()=>({client:{password:{required},email:{required,email}}}),computed:{serializeClient(){return JSON.stringify({Password:this.client.password,Email:this.client.email})}},methods:{openRemind(){Bus.$emit("remind")},submitForm(){let e=this;e.pending=!0,this.$v.client.$touch(),this.$store.state.isAuth||this.$v.client.$invalid||this.$store.dispatch({type:"loginClient",client:this.serializeClient}).then((t=>{e.pending=!1,200===t.status&&t.json().then((t=>{e.$store.commit("setUser",t),e.$store.state.buyReadyWork?Bus.$emit("clientSet"):window.location.assign("https://client.readywork.ru/profile/")})).catch((e=>{console.error(e)})),400===t.status&&t.json().then((t=>{e.setErrors(t)})).catch((e=>{console.error(e)}))})).catch((t=>{e.pending=!1,e.openSumbitModal({message:"Сервис временно недоступен!",list:{field:"Текущая ошибка",text:t}}),console.error(t)}))}}};Vue.component("the-login-client",{template:"#the-login-client-template",mixins:[validationMixin,loginMixin,serverFieldErrorsMixin],delimiters:["{#","#}"]}),Vue.component("the-login-author",{template:"#the-login-author-template",mixins:[validationMixin,loginMixin,serverFieldErrorsMixin],delimiters:["{#","#}"]}),Vue.component("the-registration-client",{template:"#the-registration-client-template",mixins:[validationMixin,serverFieldErrorsMixin],delimiters:["{#","#}"],data:function(){return{client:{fio:"",email:"",phone:""},submit:{errors:{}},phoneIsValid:!1,pending:!1}},validations(){return{client:{fio:{required,minLength:minLength(1),maxLength:maxLength(80)},email:{required,email,minLength:minLength(5),maxLength:maxLength(80)},phone:{required,validPhone:validPhone(this.phoneIsValid)}}}},methods:{onPhoneInput({isValid:e}){this.phoneIsValid=e},submitForm(){let e=this;this.$v.client.$touch(),this.$v.client.$invalid||(this.pending=!0,this.$store.dispatch({type:"createClient",client:e.serializeClient}).then((t=>{e.pending=!1,200===t.status?t.json().then((t=>{e.setErrors(t)})).catch((e=>{console.error(e)})):201===t.status?t.json().then((t=>{e.$store.commit("setUser",t),e.$store.state.buyReadyWork?Bus.$emit("clientSet"):window.location.assign("https://client.readywork.ru/profile/")})).catch((e=>{console.error(e)})):e.openSumbitModal({message:"Сервис временно недоступен!",list:{field:t.status,text:t.statusText}})})).catch((t=>{e.pending=!1,e.openSumbitModal({message:"Сервис временно недоступен!",list:{field:"Текущая ошибка",text:t}}),console.error(t)})))}},computed:{serializeClient(){return JSON.stringify({fio:this.client.fio,email:this.client.email,phone:this.client.phone})}}}),Vue.component("the-remind-client",{template:"#the-remind-client-template",mixins:[validationMixin,serverFieldErrorsMixin],delimiters:["{#","#}"],data:function(){return{email:"",pending:!1}},validations:()=>({email:{required,email,minLength:minLength(5),maxLength:maxLength(80)}}),methods:{submitForm(){let e=this;this.$v.email.$touch(),this.$v.email.$invalid||(this.pending=!0,this.$store.dispatch({type:"remindClient",email:JSON.stringify({email:e.email})}).then((t=>{e.pending=!1,200===t.status?t.json().then((t=>{e.openSumbitModal({message:"На указанный почтовый адрес отправлена ссылка по восстановлению пароля"})})):e.openSumbitModal({message:"Сервис временно недоступен!",list:{field:t.status,text:t.statusText}})})).catch((t=>{e.pending=!1,e.openSumbitModal({message:"Сервис временно недоступен!",list:{field:"Текущая ошибка",text:t}}),console.error(t)})))}},computed:{serializeClient(){return JSON.stringify({fio:this.client.fio,email:this.client.email,phone:this.client.phone})}}}),Vue.component("the-registration-author",{template:"#the-registration-author-template",mixins:[validationMixin],data:function(){return{client:{fio:"",password:"",email:""},submit:{errors:{}}}},validations:()=>({client:{fio:{required,minLength:minLength(1),maxLength:maxLength(80)},password:{required,minLength:minLength(3),maxLength:maxLength(12)},email:{required,email,minLength:minLength(5),maxLength:maxLength(80)}}}),computed:{serializeClient(){return JSON.stringify({fio:this.client.fio,password:this.client.password,email:this.client.email})}}}),Vue.component("app-login",{template:"#app-login-template",props:{initialType:String},delimiters:["{#","#}"],data:function(){return{type:this.initialType,currentTab:"the-"+this.initialType+"-client"}},created(){Bus.$on("remind",(()=>{this.setType("remind")}))},methods:{closeModal(){this.$emit("vuedals:close")},setType(e){this.type=e,this.currentTab="the-"+e+"-client"}},computed:{tabs:{get:function(){return[{component:"the-"+this.type+"-client",name:"Клиент",type:this.type},{component:"the-"+this.type+"-author",name:"Автор",type:this.type}]}}}});const SIDENAV=Vue.component("the-sidenav",{template:"#the-sidenav-template",delimiters:["{#","#}"],data:function(){return{isActive:!1,mainClass:"toolbar",toolbarScrollClass:"toolbar_scroll",types:[{component:"login",name:"Логин"},{component:"registration",name:"Регистрация"}]}},created(){Bus.$on("menu",(()=>{this.isActive=!this.isActive}))},methods:{openLoginModal(e){Bus.$emit("new",{name:"app-login-modal",props:{initialType:e},component:"app-login"})},closeModal(){this.$emit("vuedals:close")}}});Vue.component("the-toolbar",{template:"#the-toolbar-template",delimiters:["{#","#}"],components:{SIDENAV},data:function(){return{isActive:!1,mainClass:"toolbar",toolbarScrollClass:"toolbar_scroll",types:[{component:"registration",name:"Регистрация"},{component:"login",name:"Логин"}]}},methods:{openToolbar(){this.isActive=!this.isActive,Bus.$emit("menu")},openLoginModal(e){Bus.$emit("new",{name:"app-login-modal",props:{initialType:e},component:"app-login"})}}}),Vue.component("the-work-tabs",{delimiters:["{#","#}"],template:"#the-work-tabs-template",data:function(){return{currentTab:"tab-0",tabs:[{title:"Выдержка из работы"},{title:"Содержание"},{title:"Список литературы"},{title:"Дополнительно"}]}}});let loadDataMixin={data:function(){return{subjects:[],subjectList:[],symbols:[],url:{subjects:"/letters"},subjectsLoaded:!1}},methods:{alphabetMake(e){let t=e,i=[];for(let e in t)t.hasOwnProperty(e)&&i.push(e);i.sort();let n=[];for(let e=0;e<i.length;e++)n.push({title:i[e]});return this.symbols=n}},computed:{loadSubjects:function(){fetch(this.url.subjects).then((e=>e.json())).then((e=>{let t=e.items,i=[];for(let e in t){let n={};t.hasOwnProperty(e)&&(n=t[e]);for(let e in n)n.hasOwnProperty(e)&&i.push(n[e].name)}return this.subjectList=i,this.subjects=t,t})).then((e=>this.alphabetMake(e))).then((e=>{this.subjectsLoaded=!0})).catch((e=>{console.error(e)}))}}};Vue.component("the-form-shop",{template:"#the-form-shop-template",delimiters:["{#","#}"],mixins:[loadDataMixin],components:{Multiselect:VueMultiselect.default},data:function(){return{currentList:"",selected_worktype:null,worktypesOptions:[{title:"Реферат",value:""},{title:"Курсовая",value:""},{title:"Дипломная",value:""},{title:"Контрольная",value:""},{title:"Отчет",value:""},{title:"Доклад",value:""},{title:"Учебник",value:""},{title:"Шпаргалка",value:""},{title:"Эссе",value:""},{title:"Монография",value:""}]}},created(){},computed:{computedList:function(){let e=this.currentList;return this.subjects[e]}},methods:{showList:function(e,t){this.currentList=e},updateSelected(e){this.selected=e},customWorktypeLabel:({title:e})=>`${e}`}}),Vue.component("app-modal-form",{template:"#app-modal-form-template",props:["message","list"],delimiters:["{#","#}"]});let orderMixin={data:function(){return{worktypes:[],subjects:[],subjectList:[],url:{worktypes:"https://client.readywork.ru/rest/worktypes/",subjects:"https://client.readywork.ru/rest/subjects/"}}},methods:{loadWorktype(){fetch(this.url.worktypes).then((e=>e.json())).then((e=>{this.worktypes=e.results})).catch((e=>{console.error(e)}))},loadSubjects(){fetch(this.url.subjects).then((e=>e.json())).then((e=>{this.subjectList=e})).catch((e=>{console.error(e)}))},customWorktypeLabel:({title:e})=>`${e}`}};Vue.component("the-form-contact",{template:"#the-form-contact-template",delimiters:["{#","#}"],mixins:[validationMixin,serverFieldErrorsMixin],data:function(){return{fio:"",email:"",question:"",submit:{errors:{},error_unknown:"Ошибка! Запрос не отправлен!",success_message:"Спасибо! Ваш запрос отправлен!"},pending:!1}},validations:()=>({fio:{required,minLength:minLength(1),maxLength:maxLength(80)},email:{required,email,minLength:minLength(5),maxLength:maxLength(80)},question:{required,minLength:minLength(1),maxLength:maxLength(250)}}),computed:{serialize(){let e=new FormData;return e.append("fio",this.fio),e.append("email",this.email),e.append("question",this.question),e}},methods:{submitForm(){if(this.$v.$touch(),!this.$v.$invalid){this.pending=!0;let e=this,t="/contacts/send",i={method:"POST",headers:new Headers({"Content-type":"multipart/form-data"}),body:this.serialize};fetch(t,i).then((t=>{e.pending=!1,t.status>=200&&t.status<300?e.openSumbitModal({message:e.submit.success_message}):e.openSumbitModal({message:e.submit.error_unknown,list:{field:t.status,text:t.statusText}})})).catch((t=>{e.pending=!1,e.openSumbitModal({message:e.submit.error_unknown})}))}}}}),Vue.component("the-form-order",{template:"#the-form-order-template",delimiters:["{#","#}"],mixins:[orderMixin,validationMixin,serverFieldErrorsMixin],components:{Multiselect:VueMultiselect.default,VueTelInput:VueTelInput.default,Datepicker:VueDatepicker},data:function(){return{ru,state:{disabledDates:{to:new Date}},order:{worktype:"",subjectText:"",description:"",deadLine:"",pagesAll:"",comment:"",filesId:[],promo:""},client:{fio:"",email:"",phone:""},maxFileCount:3,maxFileSize:200,fileCount:null,phoneIsValid:!1,stage:{current:2,total:2},submit:{errors:{},error_unknown:"Ошибка создания заказа!",success_message:"Заказ создан! Через несколько секунд вы будете перенаправлены в личный кабинет..."},pending:!1,filesUpload:{files:[]}}},validations(){return{order:{worktype:{required},subjectText:{minLength:minLength(1),maxLength:maxLength(80),required},deadLine:{required,validDate,minValue:minValue(TOMORROW_DATE)},description:{required,minLength:minLength(3),maxLength:maxLength(80)},pagesAll:{required,minValue:minValue(1),minLength:minLength(1),maxLength:maxLength(80)},comment:{minLength:minLength(1),maxLength:maxLength(80)},files:{maxLength:maxLength(this.maxFileCount),maxFileSize:(e=this.maxFileSize,t=>{let i=0;for(let e=0;e<t.length;e++)i+=t[e].size/1e6;return!helpers.req(t)||i<e})}},client:{fio:{required,minLength:minLength(1),maxLength:maxLength(80)},email:{required,email,minLength:minLength(5),maxLength:maxLength(80)},phone:{required,validPhone:validPhone(this.phoneIsValid)}},stage_1:["order.worktype","order.subjectText","order.pagesAll"],stage_2:["order.deadLine","order.description","order.comment","order.files","client.fio","client.email","client.phone"]};var e},created(){this.loadSubjects(),this.loadWorktype()},mounted:function(){this.reset()},computed:{inverseDate:function(){return this.order.deadLine.toLocaleDateString().split(".").reverse().join("-")},serializeOrder(){return JSON.stringify({worktype:this.order.worktype.id,subjectText:this.order.subjectText,deadLine:this.inverseDate,pagesAll:this.order.pagesAll,description:this.order.description,comment:this.order.comment,phone:this.client.phone,email:this.client.email,fio:this.client.fio,promo:this.order.promo,filesId:this.order.filesId})},serializeClient(){return JSON.stringify({phone:this.client.phone,email:this.client.email,fio:this.client.fio})}},methods:{reset(){this.order.files=[]},addSubject(e){const t=e;this.subjectList.push(t),this.order.subjectText=t},onPhoneInput({isValid:e}){this.phoneIsValid=e},filesChange(e,t){this.$v.order.files.$touch();let i=this;if(t.length){for(let a=0;a<t.length;a++){let l=t[a],u=i.filesUpload.files.length;if(t.length>3)return void console.log("Можно загружать не более трех файлов за один раз!");if(i.filesUpload.files.push(l),l.size<1e7){i.filesUpload.files[u].show=!0;let d=new FormData;d.append("file1",l);let c=new XMLHttpRequest;function n(e){let t=e.loaded/e.total*100;i.filesUpload.files[u].width=Math.round(t),i.pending=!0}function r(e){let t=JSON.parse(e.target.responseText);i.order.filesId.push(t.files[0].id),i.filesUpload.files[u].color="#76bc00",i.pending=!1}function s(e){i.pending=!1,console.log("Upload Failed"),i.filesUpload.files[u].color="#ff4500"}function o(e){i.pending=!1,console.log("Upload Aborted")}c.upload.addEventListener("progress",n,!1),c.addEventListener("load",r,!1),c.addEventListener("error",s,!1),c.addEventListener("abort",o,!1),c.open("POST","https://client.readywork.ru/rest/client/orders/ajaxFile/"),c.send(d)}else console.log("Размер файла не должен превышать 10Мб")}this.$refs.files.value=""}},addFiles(){this.$refs.files.click()},removeFile(e){this.filesUpload.files.splice(e,1)},processStage(){let e="stage_"+this.stage.current;this.$v[e].$touch(),this.$v[e].$invalid||this.stage.current===this.stage.total?this.$v.order.$invalid||this.stage.current!==this.stage.total||this.pending||this.submitForm():this.stage.current+=1},submitForm(){let e=this;e.submit.errors={},e.pending=!0,this.$store.state.isAuth?e.createOrder(e.serializeOrder):this.$store.dispatch({type:"createClient",client:e.serializeClient}).then((t=>{200===t.status?(e.pending=!1,t.json().then((t=>{e.setErrors(t)})).catch((e=>{console.error(e)}))):201===t.status?t.json().then((t=>{e.$store.commit("setUser",t)})).then((()=>{e.createOrder(e.serializeOrder)})).then((()=>{try{ym(18751747,"reachGoal","readySubmitForm")}catch(e){console.error("yacount readySubmitForm err")}})).catch((t=>{e.pending=!1,console.error(t)})):(e.pending=!1,e.openSumbitModal({message:"Сервис временно недоступен!",list:{field:t.status,text:t.statusText}}))})).catch((t=>{e.pending=!1,e.openSumbitModal({message:"Сервис временно недоступен!",list:{field:"Текущая ошибка",text:t}}),console.error(t)}))},createOrder(e){let t=this;this.$store.dispatch({type:"createOrder",order:e}).then((e=>{t.pending=!1,e.status>=200&&e.status<300?window.location.assign("https://client.readywork.ru/"):400===e.status?(errors=JSON.parse(e.responseText),t.setErrors(errors)):t.openSumbitModal({message:t.submit.error_unknown,list:{field:e.status,text:e.statusText}})})).catch((e=>{t.pending=!1,t.openSumbitModal({message:"Сервис временно недоступен!",list:{field:"Текущая ошибка",text:e}}),console.error(e)}))}}});const store=new Vuex.Store({state:{isAuth:!1,token:"",user:{},buyReadyWork:!1},mutations:{setUser(e,t){if(!t.error){for(let i in t)t.hasOwnProperty(i)&&Vue.set(e.user,i,t[i]);t.Token&&(setCookie("token",t.Token,{domain:".readywork.ru",expires:86400,path:"/"}),e.token=t.Token,e.isAuth=!0)}},logOut:e=>{setCookie("token","",{domain:".readywork.ru",expires:-1,path:"/"}),e.user={},e.token="",e.isAuth=!1},sessionInit:e=>{getCookie("token")&&(e.token=getCookie("token"),e.isAuth=!0)},buyReadyWork(e,t){e.buyReadyWork=t}},actions:{getClient({commit:e,state:t}){if(getCookie("token")){t.token=getCookie("token"),t.isAuth=!0;let i="https://client.readywork.ru/rest/client/",n=new Headers({Token:t.token});fetch(i,{method:"GET",headers:n}).then((e=>e.json())).then((t=>{e("setUser",t)})).catch((e=>{console.error(e)}))}},createOrder({commit:e,state:t},i){let n={method:"POST",headers:new Headers({"Content-type":"application/json",Token:t.token}),body:i.order};return new Promise(((e,t)=>{fetch("https://client.readywork.ru/rest/client/orders/",n).then((t=>{e(t)})).catch((e=>{t(e)}))}))},createClient({commit:e},t){let i={method:"POST",headers:new Headers({"Content-type":"application/json"}),body:t.client};return new Promise(((e,t)=>{fetch("https://client.readywork.ru/rest/client/",i).then((t=>{e(t)})).catch((e=>{t(e)}))}))},loginClient({commit:e},t){let i={method:"POST",headers:new Headers({"Content-type":"application/json"}),body:t.client};return new Promise(((e,t)=>{fetch("https://client.readywork.ru/rest/client/login/",i).then((t=>{e(t)})).catch((e=>{t(e)}))}))},remindClient({commit:e},t){let i={method:"POST",headers:new Headers({"Content-type":"application/json"}),body:t.email};return new Promise(((e,t)=>{fetch("https://client.readywork.ru/rest/client/remind/",i).then((t=>{e(t)})).catch((e=>{t(e)}))}))}}});Vue.directive("app-scroll",{inserted:function(e,t){window.addEventListener("scroll",(function(i){this.scrollTimeout||(this.scrollTimeout=setTimeout((function(){this.scrollTimeout=null,window.scrollY>1?e.classList.add(t.value):e.classList.remove(t.value)}),66))}))}});let vm=new Vue({store,components:{Vuedals:Vuedals.Component},data:{pending:!1},created(){this.$nextTick((function(){this.$store.dispatch("getClient")})),Bus.$on("clientSet",(()=>{this.$store.commit("buyReadyWork",!1),this.submitReadyWork(this.serializeOrder)}))},computed:{serializeOrder:()=>JSON.stringify({worktype:window.workData.worktype,pagesAll:window.workData.str,comment:window.workData.comment,subjectText:window.workData.subject,description:window.workData.name,deadLine:window.workData.deadline})},methods:{openPaymentGuide(e){let t=e.target,i=t.nextElementSibling;i&&(i.classList.contains("_open")?(i.classList.remove("_open"),t.classList.remove("_disabled")):(i.classList.add("_open"),t.classList.add("_disabled")))},openLoginModal(e){let t=this;Bus.$emit("new",{name:"app-login-modal",props:{initialType:e},component:"app-login",onDismiss(){t.$store.commit("buyReadyWork",!1)},onClose(){t.$store.commit("buyReadyWork",!1)}})},buyReadyWork(){this.pending=!0,this.$store.state.isAuth?this.submitReadyWork(this.serializeOrder):(this.$store.commit("buyReadyWork",!0),this.openLoginModal("registration"))},submitReadyWork(e){let t=this;this.$store.dispatch({type:"createOrder",order:e}).then((e=>{if(t.pending=!1,e.status>=200&&e.status<300){try{ym(18751747,"reachGoal","uniqueSubmitForm")}catch(e){console.error("yacount uniqueSubmitForm err")}setTimeout((function(){window.location.assign("https://client.readywork.ru/")}),1e3)}else try{e.json().then((e=>{t.openSumbitModal({message:e.detail})})).catch((e=>{console.error(e)}))}catch(i){t.openSumbitModal({message:"Ошибка!",list:{field:e.status,text:e.statusText}})}})).catch((e=>{t.pending=!1,t.openSumbitModal({message:"Проверьте правильность ввода полей"}),console.error(e)}))}}}).$mount("#app");function getCookie(e){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function setCookie(e,t,i){let n=(i=i||{}).expires;if("number"==typeof n&&n){let e=new Date;e.setTime(e.getTime()+1e3*n),n=i.expires=e}n&&n.toUTCString&&(i.expires=n.toUTCString());let r=e+"="+(t=encodeURIComponent(t));for(let e in i){r+="; "+e;let t=i[e];!0!==t&&(r+="="+t)}document.cookie=r}function deleteCookie(e){setCookie(e,"",{expires:-1})}!function(){const e=document.querySelector(".tabs"),t=e.querySelector(".tabs__list"),i=e.querySelectorAll(".tabs__item"),n=t.querySelectorAll(".tabs__link"),r=e.querySelectorAll('[id^="section"]'),s=function(e,t){t.focus(),t.removeAttribute("tabindex"),t.setAttribute("aria-selected","true"),e.removeAttribute("aria-selected"),e.setAttribute("tabindex","-1");let i=Array.prototype.indexOf.call(n,t),s=Array.prototype.indexOf.call(n,e);r[s].hidden=!0,r[i].hidden=!1};t.setAttribute("role","tablist"),Array.prototype.forEach.call(n,(function(e,o){e.setAttribute("role","tab"),e.setAttribute("id","tab"+(o+1)),e.setAttribute("tabindex","-1"),e.parentNode.setAttribute("role","presentation"),e.addEventListener("click",(function(e){e.preventDefault(),Array.prototype.forEach.call(i,(function(e,t){e.classList.remove("active")})),e.target.parentElement.classList.add("active");let n=t.querySelector("[aria-selected]");e.currentTarget!==n&&s(n,e.currentTarget)})),e.addEventListener("keydown",(function(e){let t=Array.prototype.indexOf.call(n,e.currentTarget),i=37===e.which?t-1:39===e.which?t+1:40===e.which?"down":null;null!==i&&(e.preventDefault(),"down"===i?r[o].focus():n[i]&&s(e.currentTarget,n[i]))}))})),Array.prototype.forEach.call(r,(function(e,t){e.setAttribute("role","tabpanel"),e.setAttribute("tabindex","-1"),e.getAttribute("id"),e.setAttribute("aria-labelledby",n[t].id),e.hidden=!0})),i[0].classList.add("active"),n[0].removeAttribute("tabindex"),n[0].setAttribute("aria-selected","true"),r[0].hidden=!1}();